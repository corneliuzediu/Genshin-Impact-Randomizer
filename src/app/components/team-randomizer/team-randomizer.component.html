<p-accordion
    [activeIndex]="0"
    class="accordation_wrapper"
    expandIcon="pi pi-plus"
    collapseIcon="pi pi-minus"
>
    <form
        [formGroup]="selectorForm"
        (ngSubmit)="$event.preventDefault(); submitForm()"
    >
        <!-- Tab 1 - Traveler Name -->
        <p-accordionTab header="Profiles" iconPos="end">
            <div formArrayName="profiles" class="dinamic_wrapper">
                <label>
                    <input type="checkbox" />
                    Select All Profiles
                </label>
                <div class="dinamic_randering">
                    <div *ngFor="let profile of profiles; let i = index">
                        <label>
                            {{ profile.userName }}
                            <input
                                type="checkbox"
                                value="{{ profile.userName }}"
                                [formControlName]="i"
                                (change)="
                                    handleCheckboxChange(
                                        $event,
                                        'profiles',
                                        profile.userName
                                    )
                                "
                            />
                        </label>
                    </div>
                </div>
            </div>
        </p-accordionTab>

        <!-- Tab 2 - Elements -->
        <p-accordionTab header="Elements" iconPos="end">
            <div formArrayName="elements" class="dinamic_wrapper">
                <label>
                    <input type="checkbox" />
                    Select All Elements
                </label>
                <div class="dinamic_randering">
                    <div
                        *ngFor="let element of distinctElements; let i = index"
                    >
                        <label>
                            {{ element }}
                            <input
                                type="checkbox"
                                [formControlName]="i"
                                (change)="
                                    handleCheckboxChange(
                                        $event,
                                        'profiles',
                                        element
                                    )
                                "
                            />
                        </label>
                    </div>
                </div>
            </div>
        </p-accordionTab>

        <!-- Tab 3 - Weapons -->
        <p-accordionTab header="Weapons" iconPos="end">
            <div formArrayName="weapons" class="dinamic_wrapper">
                <label>
                    <input type="checkbox" />
                    Select All Weapons
                </label>
                <div class="dinamic_randering">
                    <div *ngFor="let weapon of distinctWeapons; let i = index">
                        <label>
                            {{ weapon }}
                            <input type="checkbox" [formControlName]="i" />
                        </label>
                    </div>
                </div>
            </div>
        </p-accordionTab>

        <!-- Tab 4 - Stars -->
        <p-accordionTab header="Stars" iconPos="end">
            <div formArrayName="stars" class="dinamic_wrapper">
                <label>
                    <input type="checkbox" />
                    Select All Stars
                </label>
                <div class="dinamic_randering">
                    <div *ngFor="let star of distinctStars; let i = index">
                        <label>
                            {{ star }}
                            <input type="checkbox" [formControlName]="i" />
                        </label>
                    </div>
                </div>
            </div>
        </p-accordionTab>

        <!-- Tab 5 - Location -->
        <p-accordionTab header="Location" iconPos="end">
            <div formArrayName="locations" class="dinamic_wrapper">
                <label>
                    <input type="checkbox" />
                    Select All Locationa
                </label>
                <div class="dinamic_randering">
                    <div
                        *ngFor="
                            let location of distinctLocations;
                            let i = index
                        "
                    >
                        <label>
                            {{ location }}
                            <input type="checkbox" [formControlName]="i" />
                        </label>
                    </div>
                </div>
            </div>
        </p-accordionTab>

        <!-- Tab 6 - Genres -->
        <p-accordionTab header="Genre" iconPos="end">
            <div formArrayName="genres" class="dinamic_wrapper">
                <label>
                    <input type="checkbox" />
                    Select All Genres
                </label>
                <div class="dinamic_randering">
                    <div *ngFor="let genres of distinctGenres; let i = index">
                        <label>
                            {{ genres }}
                            <input type="checkbox" [formControlName]="i" />
                        </label>
                    </div>
                </div>
            </div>
        </p-accordionTab>

        <!-- Tab 7 - Heights -->
        <p-accordionTab header="Height" iconPos="end">
            <div formArrayName="heights" class="dinamic_wrapper">
                <label>
                    <input type="checkbox" />
                    Select All Weapons
                </label>
                <div class="dinamic_randering">
                    <div *ngFor="let height of distinctHeights; let i = index">
                        <label>
                            {{ height }}
                            <input type="checkbox" [formControlName]="i" />
                        </label>
                    </div>
                </div>
            </div>
        </p-accordionTab>

        <!-- Tab 8 - Archon -->
        <p-accordionTab header="Archon" iconPos="end" class="mb-3">
            <div formArrayName="archon" class="dinamic_wrapper">
                <label>
                    <input type="checkbox" />
                    Select Archons
                </label>
            </div>
        </p-accordionTab>

        <div class="dinamic_wrapper">
            <p-button
                label="Get Random Team"
                class="btn btn-primary"
                icon="pi pi-users"
                type="submit"
                [disabled]="selectorForm.invalid"
            >
            </p-button>
        </div>
    </form>
</p-accordion>
